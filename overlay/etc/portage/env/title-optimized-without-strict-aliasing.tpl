optimized except for strict aliasing
